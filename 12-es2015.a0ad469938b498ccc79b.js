(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{A2Ca:function(e,t,r){"use strict";r.r(t);var i=r("ofXK"),s=r("3Pt+"),n=r("0IaG"),o=r("5wG6"),a=r("/1cH"),c=r("qFsG"),b=r("bSwM"),l=r("tyNb"),d=r("fXoL"),u=r("qFpe"),m=r("Uq27"),h=r("jhN1"),g=r("DPn5"),v=r("iIrt"),f=r("oOf3"),p=r("ifrw");function Y(e,t){if(1&e&&(d.Zb(0,"div",3),d.Zb(1,"div",24),d.Zb(2,"div",25),d.Gc(3),d.Yb(),d.Yb(),d.Yb()),2&e){const e=d.lc();d.Jb(3),d.Hc(e.errorMessage)}}function Z(e,t){1&e&&d.Vb(0,"div",26)}function S(e,t){if(1&e){const e=d.ac();d.Zb(0,"tr"),d.Zb(1,"th",34),d.Gc(2),d.Yb(),d.Zb(3,"td",35),d.Gc(4),d.Vb(5,"br"),d.Zb(6,"small"),d.Zb(7,"i"),d.Gc(8),d.Yb(),d.Yb(),d.Yb(),d.Zb(9,"td",35),d.Gc(10),d.Yb(),d.Zb(11,"td",35),d.Gc(12),d.Vb(13,"br"),d.Zb(14,"small"),d.Zb(15,"i"),d.Gc(16),d.Yb(),d.Yb(),d.Yb(),d.Zb(17,"td",35),d.Gc(18),d.Yb(),d.Zb(19,"td",35),d.Zb(20,"select",36),d.hc("ngModelChange",(function(r){return d.zc(e),t.$implicit.approveDays=r})),d.Zb(21,"option",37),d.Gc(22,"1"),d.Yb(),d.Zb(23,"option",38),d.Gc(24,"3"),d.Yb(),d.Zb(25,"option",39),d.Gc(26,"7"),d.Yb(),d.Zb(27,"option",40),d.Gc(28,"10"),d.Yb(),d.Zb(29,"option",41),d.Gc(30,"14"),d.Yb(),d.Yb(),d.Yb(),d.Zb(31,"td",35),d.Zb(32,"input",42),d.hc("ngModelChange",(function(r){return d.zc(e),t.$implicit.remarks=r})),d.Yb(),d.Yb(),d.Zb(33,"td"),d.Zb(34,"a",43),d.Zb(35,"i",44),d.hc("click",(function(r){d.zc(e);const i=t.$implicit;return d.lc(3).approveRequest(i)})),d.Yb(),d.Yb(),d.Zb(36,"a",43),d.Zb(37,"i",45),d.hc("click",(function(r){d.zc(e);const i=t.$implicit;return d.lc(3).denyRequest(i)})),d.Yb(),d.Yb(),d.Yb(),d.Yb()}if(2&e){const e=t.$implicit,r=t.index;d.Jb(2),d.Hc(r+1),d.Jb(2),d.Hc(null==e?null:e.RequestingUser),d.Jb(4),d.Hc(null==e?null:e.RequestStamp),d.Jb(2),d.Hc(null==e?null:e.CName),d.Jb(2),d.Ic("",null==e?null:e.ServerName," "),d.Jb(4),d.Hc(null==e?null:e.ServerAddress),d.Jb(2),d.Hc(null==e?null:e.UserName),d.Jb(2),d.qc("ngModel",e.approveDays),d.Jb(12),d.qc("ngModel",e.remarks)}}const w=function(e,t,r){return{itemsPerPage:e,currentPage:t,totalItems:r}};function I(e,t){if(1&e&&(d.Xb(0),d.Fc(1,S,38,9,"tr",33),d.mc(2,"paginate"),d.mc(3,"searchData"),d.Wb()),2&e){const e=d.lc(2);d.Jb(1),d.qc("ngForOf",d.nc(2,1,d.nc(3,4,e.requestList,e.filter),d.wc(7,w,e.itemsPerPage,e.currentPage,e.totalCount)))}}function y(e,t){1&e&&(d.Xb(0),d.Zb(1,"tr"),d.Zb(2,"td",46),d.Zb(3,"div",47),d.Gc(4,"Request List is unavailable."),d.Yb(),d.Yb(),d.Yb(),d.Wb())}function q(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",48),d.Zb(1,"pagination-controls",49),d.hc("pageChange",(function(t){return d.zc(e),d.lc(2).userPagination(t)})),d.Yb(),d.Yb()}}function P(e,t){if(1&e&&(d.Xb(0),d.Zb(1,"div",27),d.Zb(2,"table",28),d.Zb(3,"thead",29),d.Zb(4,"tr"),d.Zb(5,"th",30),d.Gc(6,"S.No."),d.Yb(),d.Zb(7,"th",31),d.Gc(8,"Requesting User"),d.Yb(),d.Zb(9,"th",31),d.Gc(10,"Client"),d.Yb(),d.Zb(11,"th",31),d.Gc(12,"Server Name"),d.Yb(),d.Zb(13,"th",31),d.Gc(14,"DB User"),d.Yb(),d.Zb(15,"th",31),d.Gc(16,"Approve Days"),d.Yb(),d.Zb(17,"th",31),d.Gc(18,"Remarks"),d.Yb(),d.Yb(),d.Yb(),d.Zb(19,"tbody"),d.Fc(20,I,4,11,"ng-container",23),d.Fc(21,y,5,0,"ng-container",23),d.mc(22,"searchData"),d.Yb(),d.Yb(),d.Yb(),d.Fc(23,q,2,0,"div",32),d.mc(24,"searchData"),d.Wb()),2&e){const e=d.lc();d.Jb(20),d.qc("ngIf",e.requestList&&e.requestList.length>0),d.Jb(1),d.qc("ngIf",e.requestList&&0===d.nc(22,3,e.requestList,e.filter).length),d.Jb(2),d.qc("ngIf",e.requestList&&d.nc(24,6,e.requestList,e.filter).length>e.itemsPerPage)}}let L=(()=>{class e{constructor(e,t,r,i){this.scrollHelper=e,this.serverService=t,this.title=r,this.snackBarService=i,this.isLoader=!0,this.itemsPerPage=10,this.currentPage=1,this.limit=20,this.offset=0,this.title.setTitle("Server Access Requests  | License Management System")}ngOnInit(){this.getInformation(0)}getInformation(e){this.serverService.getAccessRequests().subscribe(e=>{this.isLoader=!1,console.log(e),this.requestList=e&&e.result?e.result:[]},e=>{this.isLoader=!1,this.totalCount=0,this.itemsPerPage=20,this.requestList=[]})}userPagination(e){this.isLoader=!0,this.currentPage=e;const t=this;window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.isLoader=!1},500)}approveRequest(e){void 0===e.approveDays||e.approveDays<=0?this.setErrorMessage("Please select the approved days."):this.serverService.approveAccess(e.ID,e.approveDays).subscribe(e=>{this.snackBarService.openSnackBar({type:"success",message:"Request approved."}),this.getInformation(null)},e=>{e&&e.error&&this.setErrorMessage(e.error.message?e.error.message:JSON.stringify(e.error))})}denyRequest(e){void 0!==e.remarks&&""!==e.remarks?this.serverService.denyAccess(e.ID,e.remarks).subscribe(e=>{this.snackBarService.openSnackBar({type:"success",message:"Request denied."}),this.getInformation(null)},e=>{e&&e.error&&this.setErrorMessage(e.error.message?e.error.message:JSON.stringify(e.error))}):this.setErrorMessage("Please enter the remarks to deny.")}setErrorMessage(e){this.errorMessage=e,setTimeout(()=>{this.errorMessage=void 0},5e3)}}return e.\u0275fac=function(t){return new(t||e)(d.Ub(u.a),d.Ub(m.a),d.Ub(h.c),d.Ub(g.a))},e.\u0275cmp=d.Ob({type:e,selectors:[["app-server-access-requests"]],decls:27,vars:4,consts:[[1,"header","bg-gradient-primary","pb-6","pt-4","pt-md-6"],[1,"container-fluid"],[1,"header-body"],[1,"row"],[1,"col-xl-12","col-lg-12","pb-3","pt-3"],["aria-label","breadcrumb",1,"nav-breadcrumb"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"ni","ni-tv-2"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid","mt--7"],[1,"row","mt-5"],[1,"col-xl-12"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"row","align-items-center"],[1,"col-12","col-md-7","col-lg-7"],[1,"mb-0"],[1,"col-12","col-md-5","col-lg-5","text-right"],["type","search","placeholder","Search...","name","filter",1,"form-control",3,"ngModel","ngModelChange"],["class","row",4,"ngIf"],["class","preloader lms_loader",4,"ngIf"],[4,"ngIf"],[1,"col-12"],[1,"alert","alert-danger"],[1,"preloader","lms_loader"],[1,"table-responsive","mb-3"],[1,"table","align-items-center","table-flush"],[1,"thead-light"],["scope","col",2,"width","50px"],["scope","col"],["class","pagination",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row",2,"width","50px"],[1,"text-capitalize"],[1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","3"],["value","7"],["value","10"],["value","14"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-info","mr-3",2,"margin-right","10px"],[1,"fa","fa-check",3,"click"],[1,"fa","fa-times",3,"click"],["colspan","8"],[1,"font-weight-bold"],[1,"pagination"],[3,"pageChange"]],template:function(e,t){1&e&&(d.Zb(0,"div",0),d.Zb(1,"div",1),d.Zb(2,"div",2),d.Zb(3,"div",3),d.Zb(4,"div",4),d.Zb(5,"nav",5),d.Zb(6,"ol",6),d.Zb(7,"li",7),d.Zb(8,"a",8),d.Vb(9,"i",9),d.Yb(),d.Yb(),d.Zb(10,"li",10),d.Gc(11,"Server Access Requests"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Zb(12,"div",11),d.Zb(13,"div",12),d.Zb(14,"div",13),d.Zb(15,"div",14),d.Zb(16,"div",15),d.Zb(17,"div",16),d.Zb(18,"div",17),d.Zb(19,"h3",18),d.Gc(20,"Approve/Deny Access Request"),d.Yb(),d.Yb(),d.Zb(21,"div",19),d.Zb(22,"input",20),d.hc("ngModelChange",(function(e){return t.filter=e})),d.Yb(),d.Yb(),d.Fc(23,Y,4,1,"div",21),d.Yb(),d.Yb(),d.Fc(24,Z,1,0,"div",22),d.Fc(25,P,25,9,"ng-container",23),d.Yb(),d.Yb(),d.Yb(),d.Vb(26,"app-footer"),d.Yb()),2&e&&(d.Jb(22),d.qc("ngModel",t.filter),d.Jb(1),d.qc("ngIf",t.errorMessage),d.Jb(1),d.qc("ngIf",t.isLoader),d.Jb(1),d.qc("ngIf",!t.isLoader))},directives:[l.i,s.c,s.o,s.r,i.l,v.a,i.k,s.v,s.s,s.x,f.c],pipes:[p.a,f.b],styles:[""]}),e})();var C=r("OPNc");let G=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Ob({type:e,selectors:[["app-server"]],decls:2,vars:0,template:function(e,t){1&e&&(d.Vb(0,"app-header"),d.Vb(1,"router-outlet"))},directives:[C.a,l.k],encapsulation:2}),e})();var N=r("Kj3r"),J=r("/uUt");function x(e,t){1&e&&d.Vb(0,"div",23)}const k=function(e){return{server:e}};function F(e,t){if(1&e&&(d.Zb(0,"tr"),d.Zb(1,"th",31),d.Gc(2),d.Yb(),d.Zb(3,"td",32),d.Gc(4),d.Yb(),d.Zb(5,"td",32),d.Gc(6),d.Yb(),d.Zb(7,"td",32),d.Gc(8),d.Yb(),d.Zb(9,"td",32),d.Gc(10),d.Yb(),d.Zb(11,"td",32),d.Gc(12),d.Yb(),d.Zb(13,"td",32),d.Gc(14),d.Yb(),d.Zb(15,"td"),d.Zb(16,"a",33),d.Vb(17,"i",34),d.Yb(),d.Zb(18,"a",35),d.Vb(19,"i",36),d.Yb(),d.Yb(),d.Yb()),2&e){const e=t.$implicit,r=t.index;d.Jb(2),d.Hc(r+1),d.Jb(2),d.Hc(null==e?null:e.CName),d.Jb(2),d.Hc(null==e?null:e.Pan),d.Jb(2),d.Hc(null==e?null:e.Alias),d.Jb(2),d.Hc(null==e?null:e.ServerName),d.Jb(2),d.Hc(null==e?null:e.ServerAddress),d.Jb(2),d.Hc(null==e?null:e.InitialCatalog),d.Jb(2),d.qc("state",e)("queryParams",d.uc(11,k,e)),d.Jb(2),d.qc("state",e)("queryParams",e)}}const M=function(e,t,r){return{id:"server",itemsPerPage:e,currentPage:t,totalItems:r}};function O(e,t){if(1&e&&(d.Xb(0),d.Fc(1,F,20,13,"tr",30),d.mc(2,"paginate"),d.Wb()),2&e){const e=d.lc(2);d.Jb(1),d.qc("ngForOf",d.nc(2,1,e.serverList,d.wc(4,M,e.itemsPerPage,e.currentPage,e.totalCount)))}}function V(e,t){1&e&&(d.Xb(0),d.Zb(1,"tr"),d.Zb(2,"td",37),d.Zb(3,"div",38),d.Gc(4,"Server List is unavailable."),d.Yb(),d.Yb(),d.Yb(),d.Wb())}function A(e,t){if(1&e){const e=d.ac();d.Xb(0),d.Zb(1,"div",24),d.Zb(2,"table",25),d.Zb(3,"thead",26),d.Zb(4,"tr"),d.Zb(5,"th",27),d.Gc(6,"S.No."),d.Yb(),d.Zb(7,"th",27),d.Gc(8,"Company Name"),d.Yb(),d.Zb(9,"th",27),d.Gc(10,"VAT/PAN No."),d.Yb(),d.Zb(11,"th",27),d.Gc(12,"Alias"),d.Yb(),d.Zb(13,"th",27),d.Gc(14,"Server Name"),d.Yb(),d.Zb(15,"th",27),d.Gc(16,"Server Address"),d.Yb(),d.Zb(17,"th",27),d.Gc(18,"Initial Catalog"),d.Yb(),d.Vb(19,"th",27),d.Yb(),d.Yb(),d.Zb(20,"tbody"),d.Fc(21,O,3,8,"ng-container",22),d.Fc(22,V,5,0,"ng-container",22),d.mc(23,"searchData"),d.Yb(),d.Yb(),d.Yb(),d.Zb(24,"div",28),d.Zb(25,"pagination-controls",29),d.hc("pageChange",(function(t){return d.zc(e),d.lc().userPagination(t)})),d.Yb(),d.Yb(),d.Wb()}if(2&e){const e=d.lc();d.Jb(21),d.qc("ngIf",e.serverList&&e.serverList.length>0),d.Jb(1),d.qc("ngIf",e.serverList&&0===d.nc(23,2,e.serverList,e.filter).length)}}let U=(()=>{class e{constructor(e,t,r){this.scrollHelper=e,this.serverService=t,this.title=r,this.isLoader=!0,this.itemsPerPage=10,this.currentPage=1,this.limit=20,this.offset=0,this.control=new s.e(""),this.title.setTitle("Server List | License Management System")}ngOnInit(){this.getServerList(),this.subscription=this.control.valueChanges.pipe(Object(N.a)(300),Object(J.a)()).subscribe(e=>{this.getServerList(e)})}getServerList(e=""){this.serverService.getServerList(this.currentPage,this.itemsPerPage,e).subscribe(e=>{this.isLoader=!1,this.serverList=e&&e.result?e.result:[],this.serverList.forEach(e=>{e.IsNew=!0}),this.totalCount=e&&e.result2?e.result2:this.itemsPerPage},e=>{this.isLoader=!1,this.totalCount=0,this.itemsPerPage=20,this.serverList=[]})}userPagination(e){this.isLoader=!0,this.currentPage=e,this.getServerList();const t=this;window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.isLoader=!1},500)}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(d.Ub(u.a),d.Ub(m.a),d.Ub(h.c))},e.\u0275cmp=d.Ob({type:e,selectors:[["app-server-list"]],decls:26,vars:4,consts:[[1,"header","bg-gradient-primary","pb-6","pt-4","pt-md-6"],[1,"container-fluid"],[1,"header-body"],[1,"row"],[1,"col-xl-12","col-lg-12","pb-3","pt-3"],["aria-label","breadcrumb",1,"nav-breadcrumb"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"ni","ni-tv-2"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid","mt--7"],[1,"row","mt-5"],[1,"col-xl-12"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"row","align-items-center"],[1,"col-12","col-md-7","col-lg-7"],["routerLink","/server/server-register/",1,"btn","btn-primary","d-flex"],[1,"col-12","col-md-5","col-lg-5","text-right"],["type","search","placeholder","Search...",1,"form-control",3,"ngModel","formControl","ngModelChange"],["class","preloader lms_loader",4,"ngIf"],[4,"ngIf"],[1,"preloader","lms_loader"],[1,"table-responsive","mb-3"],[1,"table","align-items-center","table-flush"],[1,"thead-light"],["scope","col"],[1,"pagination"],["id","server",3,"pageChange"],[4,"ngFor","ngForOf"],["scope","row"],[1,"text-capitalize"],["routerLink","/server/update",1,"text-info","mr-3",2,"margin-right","10px",3,"state","queryParams"],[1,"fa","fa-edit"],["routerLink","/server/server-credentials",1,"text-info","mr-3",2,"margin-right","10px",3,"state","queryParams"],[1,"fa","fa-user"],["colspan","8"],[1,"font-weight-bold"]],template:function(e,t){1&e&&(d.Zb(0,"div",0),d.Zb(1,"div",1),d.Zb(2,"div",2),d.Zb(3,"div",3),d.Zb(4,"div",4),d.Zb(5,"nav",5),d.Zb(6,"ol",6),d.Zb(7,"li",7),d.Zb(8,"a",8),d.Vb(9,"i",9),d.Yb(),d.Yb(),d.Zb(10,"li",10),d.Gc(11,"Server List"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Zb(12,"div",11),d.Zb(13,"div",12),d.Zb(14,"div",13),d.Zb(15,"div",14),d.Zb(16,"div",15),d.Zb(17,"div",16),d.Zb(18,"div",17),d.Zb(19,"button",18),d.Gc(20,"New Server"),d.Yb(),d.Yb(),d.Zb(21,"div",19),d.Zb(22,"input",20),d.hc("ngModelChange",(function(e){return t.filter=e})),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Fc(23,x,1,0,"div",21),d.Fc(24,A,26,5,"ng-container",22),d.Yb(),d.Yb(),d.Yb(),d.Vb(25,"app-footer"),d.Yb()),2&e&&(d.Jb(22),d.qc("ngModel",t.filter)("formControl",t.control),d.Jb(1),d.qc("ngIf",t.isLoader),d.Jb(1),d.qc("ngIf",!t.isLoader))},directives:[l.i,l.g,s.c,s.o,s.f,i.l,v.a,f.c,i.k],pipes:[p.a,f.b],styles:[""]}),e})();var D=r("lJxs"),H=r("qPwn");function R(e,t){if(1&e&&(d.Zb(0,"div",3),d.Zb(1,"div",40),d.Zb(2,"div",41),d.Gc(3),d.Yb(),d.Yb(),d.Yb()),2&e){const e=d.lc();d.Jb(3),d.Hc(e.errorMessage)}}function E(e,t){if(1&e&&(d.Zb(0,"div",3),d.Zb(1,"div",40),d.Zb(2,"div",42),d.Gc(3),d.Yb(),d.Yb(),d.Yb()),2&e){const e=d.lc();d.Jb(3),d.Hc(e.successMessage)}}function z(e,t){if(1&e&&(d.Zb(0,"option",45),d.Gc(1),d.Yb()),2&e){const e=t.$implicit;d.Jb(1),d.Ic(" ",e.CName," ")}}function B(e,t){if(1&e&&(d.Zb(0,"datalist",43),d.Fc(1,z,2,1,"option",44),d.Yb()),2&e){const e=d.lc();d.Jb(1),d.qc("ngForOf",e.companyList)}}function T(e,t){1&e&&(d.Zb(0,"small"),d.Gc(1,"Client is required."),d.Yb())}function j(e,t){if(1&e&&(d.Zb(0,"div",46),d.Fc(1,T,2,0,"small",47),d.Yb()),2&e){const e=d.lc();d.Jb(1),d.qc("ngIf",e.form.controls.clientId.errors.required)}}function $(e,t){1&e&&(d.Zb(0,"small"),d.Gc(1,"Server Name is required."),d.Yb())}function _(e,t){1&e&&(d.Zb(0,"small"),d.Gc(1,"Server Name should be less than 250 characters."),d.Yb())}function X(e,t){if(1&e&&(d.Zb(0,"div",46),d.Fc(1,$,2,0,"small",47),d.Fc(2,_,2,0,"small",47),d.Yb()),2&e){const e=d.lc();d.Jb(1),d.qc("ngIf",e.form.controls.serverName.errors.required),d.Jb(1),d.qc("ngIf",e.form.controls.serverName.errors.maxlength)}}function W(e,t){1&e&&(d.Zb(0,"small"),d.Gc(1,"Server Address is required."),d.Yb())}function K(e,t){if(1&e&&(d.Zb(0,"div",46),d.Fc(1,W,2,0,"small",47),d.Yb()),2&e){const e=d.lc();d.Jb(1),d.qc("ngIf",e.form.controls.serverAddress.errors.required)}}function Q(e,t){1&e&&(d.Zb(0,"small"),d.Gc(1,"VAT/PAN No. is required."),d.Yb())}function ee(e,t){if(1&e&&(d.Zb(0,"div",46),d.Fc(1,Q,2,0,"small",47),d.Yb()),2&e){const e=d.lc();d.Jb(1),d.qc("ngIf",e.form.controls.initialCatalog.errors.required)}}function te(e,t){1&e&&d.Vb(0,"div",48)}let re=(()=>{class e{constructor(e,t,r,i,n,o){this.fb=e,this.comService=t,this.serverService=r,this.snackBarService=i,this.route=n,this.router=o,this.selectedRoles=new Array,this.role=new s.e,this.isSubmitting=!1,this.isSubmitted=!1,this.isLoader=!1,this.isEdit=!1,this.companyList=[]}ngOnInit(){this.forminit()}forminit(){this.form=this.fb.group({clientName:[""],clientId:["",[s.w.required]],serverId:[""],serverName:["",[s.w.required,s.w.maxLength(50)]],serverAddress:["",[s.w.required,s.w.maxLength(200)]],initialCatalog:["",[s.w.required,s.w.maxLength(100)]]}),this.form.get("clientName").valueChanges.pipe(Object(N.a)(300),Object(J.a)()).subscribe(e=>{this.getCompanyList(e)}),this.loadValues()}loadValues(){this.route.paramMap.pipe(Object(D.a)(()=>window.history.state)).subscribe(e=>{console.log(e),e.ServerName&&(this.form.setValue({clientName:e.CName,clientId:e.ClientId,serverId:e.ServerId,serverName:e.ServerName,serverAddress:e.ServerAddress,initialCatalog:e.InitialCatalog}),this.isEdit=!0)})}submit(e){if(!this.form.valid)return console.log(this.form),void(this.isSubmitting=!0);this.isSubmitted=!0,this.isLoader=!0,this.serverService.saveServer(e).subscribe(e=>{this.isSubmitted=!1,this.isLoader=!1,this.resetForm(),this.router.navigate(["/server/server-list"]),this.snackBarService.openSnackBar({type:"success",message:e&&e.message?e.message:"Registration Successfull"})},e=>{this.isSubmitted=!1,this.isLoader=!1,e&&e.error&&(this.errorMessage=e.error.message?e.error.message:JSON.stringify(e.error));const t=this;setTimeout(()=>{t.errorMessage=void 0},5e3)})}resetForm(){this.form.reset()}getCompanyList(e=""){this.comService.getCompanyList(1,10,e).subscribe(e=>{this.isLoader=!1,this.companyList=e&&e.result?e.result:[]},e=>{this.isLoader=!1,this.companyList=[]})}clientChanged(e){this.form.get("clientId").setValue(this.companyList.find(t=>t.CName==e.target.value).ClientId)}}return e.\u0275fac=function(t){return new(t||e)(d.Ub(s.d),d.Ub(H.a),d.Ub(m.a),d.Ub(g.a),d.Ub(l.a),d.Ub(l.f))},e.\u0275cmp=d.Ob({type:e,selectors:[["app-server-register"]],decls:59,vars:10,consts:[[1,"header","bg-gradient-primary","pb-6","pt-4","pt-md-6"],[1,"container-fluid"],[1,"header-body"],[1,"row"],[1,"col-xl-12","col-lg-12","pb-3","pt-3"],["aria-label","breadcrumb",1,"nav-breadcrumb"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"ni","ni-tv-2"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid","mt--7"],[1,"row","mt-5"],[1,"col-xl-12"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"row","align-items-center"],[1,"col"],[1,"mb-0"],["class","row",4,"ngIf"],["autocomplete","off",1,"form-horizontal","form-material",2,"padding-left","20px",3,"formGroup","ngSubmit"],[1,"form-group","row","pt-2"],["for","clientId",1,"col-md-2","fontweight"],[1,"col-md-4"],["type","hidden","id","clientId","formControlName","clientId"],["type","text","placeholder","Enter Mobile No.","id","clientName","list","results","formControlName","clientName",1,"input",3,"change"],["id","results",4,"ngIf"],["class","invalid-feedback d-block",4,"ngIf"],["for","serverName",1,"col-md-2","fontweight"],["type","hidden","id","serverId","formControlName","serverId"],["type","text","placeholder","Enter Server Name","id","serverName","formControlName","serverName",1,"input"],["for","serverAddress",1,"col-md-2","fontweight"],["type","text","placeholder","Enter Server Address","id","serverAddress","formControlName","serverAddress",1,"input"],["for","initialCatalog",1,"col-md-2","fontweight"],["type","text","placeholder","Enter Initial Catalog","id","initialCatalog","formControlName","initialCatalog",1,"input"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-success",2,"width","70px","margin-right","15px",3,"disabled"],["class","postloader",4,"ngIf"],["routerLink","/server/server-list",1,"btn","btn-info"],[1,"col-12"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["id","results"],["class","search-option",4,"ngFor","ngForOf"],[1,"search-option"],[1,"invalid-feedback","d-block"],[4,"ngIf"],[1,"postloader"]],template:function(e,t){1&e&&(d.Zb(0,"div",0),d.Zb(1,"div",1),d.Zb(2,"div",2),d.Zb(3,"div",3),d.Zb(4,"div",4),d.Zb(5,"nav",5),d.Zb(6,"ol",6),d.Zb(7,"li",7),d.Zb(8,"a",8),d.Vb(9,"i",9),d.Yb(),d.Yb(),d.Zb(10,"li",10),d.Gc(11,"Server Registration"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Zb(12,"div",11),d.Zb(13,"div",12),d.Zb(14,"div",13),d.Zb(15,"div",14),d.Zb(16,"div",15),d.Zb(17,"div",16),d.Zb(18,"div",17),d.Zb(19,"h3",18),d.Gc(20,"Server Details"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Fc(21,R,4,1,"div",19),d.Fc(22,E,4,1,"div",19),d.Zb(23,"form",20),d.hc("ngSubmit",(function(e){return t.submit(t.form.value)})),d.Zb(24,"div",21),d.Zb(25,"label",22),d.Gc(26,"Client"),d.Yb(),d.Zb(27,"div",23),d.Vb(28,"input",24),d.Zb(29,"input",25),d.hc("change",(function(e){return t.clientChanged(e)})),d.Yb(),d.Fc(30,B,2,1,"datalist",26),d.Fc(31,j,2,1,"div",27),d.Yb(),d.Yb(),d.Zb(32,"div",21),d.Zb(33,"label",28),d.Gc(34,"Server Name"),d.Yb(),d.Zb(35,"div",23),d.Vb(36,"input",29),d.Vb(37,"input",30),d.Fc(38,X,3,2,"div",27),d.Yb(),d.Yb(),d.Zb(39,"div",21),d.Zb(40,"label",31),d.Gc(41,"Server Address"),d.Yb(),d.Zb(42,"div",23),d.Vb(43,"input",32),d.Fc(44,K,2,1,"div",27),d.Yb(),d.Yb(),d.Zb(45,"div",21),d.Zb(46,"label",33),d.Gc(47,"Initial Catalog"),d.Yb(),d.Zb(48,"div",23),d.Vb(49,"input",34),d.Fc(50,ee,2,1,"div",27),d.Yb(),d.Yb(),d.Zb(51,"div",35),d.Zb(52,"div",36),d.Zb(53,"button",37),d.Gc(54," Save "),d.Fc(55,te,1,0,"div",38),d.Yb(),d.Zb(56,"a",39),d.Gc(57,"Back"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Vb(58,"app-footer")),2&e&&(d.Jb(21),d.qc("ngIf",t.errorMessage),d.Jb(1),d.qc("ngIf",t.successMessage),d.Jb(1),d.qc("formGroup",t.form),d.Jb(7),d.qc("ngIf",t.companyList),d.Jb(1),d.qc("ngIf",t.form.controls.clientId.invalid&&(t.isSubmitting||t.form.controls.clientId.dirty||t.form.controls.clientId.touched)),d.Jb(7),d.qc("ngIf",t.form.controls.serverName.invalid&&(t.isSubmitting||t.form.controls.serverName.dirty||t.form.controls.serverName.touched)),d.Jb(6),d.qc("ngIf",t.form.controls.serverAddress.invalid&&(t.isSubmitting||t.form.controls.serverAddress.dirty||t.form.controls.serverAddress.touched)),d.Jb(6),d.qc("ngIf",t.form.controls.initialCatalog.invalid&&(t.isSubmitting||t.form.controls.initialCatalog.dirty||t.form.controls.initialCatalog.touched)),d.Jb(3),d.qc("disabled",t.isSubmitted),d.Jb(2),d.qc("ngIf",t.isLoader))},directives:[l.i,i.l,s.y,s.p,s.i,s.c,s.o,s.g,v.a,i.k,s.s,s.x],styles:[".fontweight[_ngcontent-%COMP%]{font-weight:400;padding-top:7px}.input[_ngcontent-%COMP%]{border:2px solid grey;border-radius:5px;padding-left:5px;height:40px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:0;border-bottom:1px solid #ddd}"]}),e})();var ie=r("mrSG"),se=r("6Irx"),ne=r("7dP1");function oe(e,t){1&e&&(d.Zb(0,"small"),d.Gc(1,"User Name isrequired."),d.Yb())}function ae(e,t){1&e&&(d.Zb(0,"small"),d.Gc(1,"User Name should be less than 250 characters."),d.Yb())}function ce(e,t){if(1&e&&(d.Zb(0,"div",31),d.Fc(1,oe,2,0,"small",32),d.Fc(2,ae,2,0,"small",32),d.Yb()),2&e){const e=d.lc();d.Jb(1),d.qc("ngIf",e.form.controls.userName.errors.required),d.Jb(1),d.qc("ngIf",e.form.controls.userName.errors.maxlength)}}function be(e,t){1&e&&(d.Zb(0,"small"),d.Gc(1,"Password is required."),d.Yb())}function le(e,t){if(1&e&&(d.Zb(0,"div",31),d.Fc(1,be,2,0,"small",32),d.Yb()),2&e){const e=d.lc();d.Jb(1),d.qc("ngIf",e.form.controls.password.errors.required)}}function de(e,t){1&e&&d.Vb(0,"div",33)}function ue(e,t){if(1&e){const e=d.ac();d.Zb(0,"tr"),d.Zb(1,"td"),d.Gc(2),d.Yb(),d.Zb(3,"td"),d.Gc(4),d.Yb(),d.Zb(5,"td"),d.Zb(6,"a",43),d.hc("click",(function(r){d.zc(e);const i=t.$implicit;return d.lc(2).update(i)})),d.Vb(7,"i",44),d.Yb(),d.Zb(8,"a",43),d.hc("click",(function(r){d.zc(e);const i=t.$implicit;return d.lc(2).showPassword(i.Password)})),d.Vb(9,"i",45),d.Yb(),d.Yb(),d.Yb()}if(2&e){const e=t.$implicit,r=t.index;d.Jb(2),d.Hc(r+1),d.Jb(2),d.Hc(null==e?null:e.UName)}}function me(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",46),d.Zb(1,"pagination-controls",47),d.hc("pageChange",(function(t){return d.zc(e),d.lc(2).licencePagination(t)})),d.Yb(),d.Yb()}}const he=function(e,t,r){return{itemsPerPage:e,currentPage:t,totalItems:r}};function ge(e,t){if(1&e&&(d.Zb(0,"div",34),d.Zb(1,"div",35),d.Zb(2,"div",11),d.Zb(3,"div",36),d.Zb(4,"h3",13),d.Gc(5,"User List"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Zb(6,"div",37),d.Zb(7,"table",38),d.Zb(8,"thead",39),d.Zb(9,"tr"),d.Zb(10,"th",40),d.Gc(11,"S.No."),d.Yb(),d.Zb(12,"th",40),d.Gc(13,"User Name"),d.Yb(),d.Yb(),d.Yb(),d.Zb(14,"tbody"),d.Fc(15,ue,10,2,"tr",41),d.mc(16,"paginate"),d.mc(17,"searchData"),d.Yb(),d.Yb(),d.Yb(),d.Fc(18,me,2,0,"div",42),d.mc(19,"searchData"),d.Yb()),2&e){const e=d.lc();d.Jb(15),d.qc("ngForOf",d.nc(16,2,d.nc(17,5,e.credentials,e.filter),d.wc(11,he,e.itemsPerPage,e.currentPage,e.totalCount))),d.Jb(3),d.qc("ngIf",e.credentials&&d.nc(19,8,e.credentials,e.filter).length>e.itemsPerPage)}}let ve=(()=>{class e{constructor(e,t,r,i,s,n,o,a,c){this.fb=e,this.licenseService=t,this.serverService=r,this.authService=i,this.scrollHelper=s,this.router=n,this.route=o,this.title=a,this.snackBarService=c,this.isLoader=!0,this.itemsPerPage=5,this.currentPage=1,this.isSubmitting=!1,this.isSubmitted=!1,this.errors=[]}ngOnInit(){this.forminit()}forminit(){this.form=this.fb.group({credentialId:[""],serverId:["",[s.w.required]],userName:["",[s.w.required,s.w.maxLength(50)]],password:["",[s.w.required,s.w.maxLength(50)]]}),this.loadValues()}loadValues(){this.route.queryParams.subscribe(e=>{e.ServerId&&(this.form.setValue({credentialId:"",serverId:e.ServerId,userName:"",password:""}),this.getServerCredentials(e.ServerId),this.server=e)})}getServerCredentials(e){this.serverService.getServerCredentials(this.currentPage,this.itemsPerPage,e).subscribe(e=>{this.isLoader=!1,this.credentials=e&&e.result?e.result:[],this.totalCount=e&&e.result2?e.result2:this.itemsPerPage},e=>{this.isLoader=!1,this.totalCount=0,this.itemsPerPage=20,this.credentials=[]})}licencePagination(e){this.isLoader=!0,this.currentPage=e;const t=this;window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{t.isLoader=!1},500)}submit(e){if(!this.form.valid)return console.log(this.form),void(this.isSubmitting=!0);this.isSubmitted=!0,this.isLoader=!0,this.serverService.saveUser(e).subscribe(e=>{this.isSubmitted=!1,this.isLoader=!1,this.resetForm(),this.getServerCredentials(this.server.ServerId),this.snackBarService.openSnackBar({type:"success",message:e&&e.message?e.message:"User added successfully."})},e=>{this.isSubmitted=!1,this.isLoader=!1,e&&e.error&&(this.errorMessage=e.error.message?e.error.message:JSON.stringify(e.error));const t=this;setTimeout(()=>{t.errorMessage=void 0},5e3)})}resetForm(){this.form.reset()}ngOnDestroy(){}resetErrors(){this.errorMessage=void 0,this.errors=[]}update(e){this.form.get("userName").setValue(e.UName),this.form.get("credentialId").setValue(e.CredentialId)}showPassword(e){return Object(ie.a)(this,void 0,void 0,(function*(){try{var t=yield this.authService.decrypt(e);this.form.get("password").setValue(t)}catch(r){r&&r.error&&(this.errorMessage=r.error.message?r.error.message:JSON.stringify(r.error))}}))}}return e.\u0275fac=function(t){return new(t||e)(d.Ub(s.d),d.Ub(se.c),d.Ub(m.a),d.Ub(ne.a),d.Ub(u.a),d.Ub(l.f),d.Ub(l.a),d.Ub(h.c),d.Ub(g.a))},e.\u0275cmp=d.Ob({type:e,selectors:[["app-server-credentials"]],decls:43,vars:8,consts:[[1,"header","pb-8","pt-5","pt-lg-8","d-flex","align-items-center",2,"min-height","380px"],[1,"mask","bg-gradient-default","opacity-8"],[1,"container-fluid","d-flex","align-items-center"],[1,"row"],[1,"col-lg-12","col-md-12"],[1,"display-2","text-white","text-capitalize"],[1,"display-4","text-white"],[1,"container-fluid","mt--7"],[1,"col-xl-7","mb-4","mb-xl-0"],[1,"card"],[1,"card-header","bg-white"],[1,"row","align-items-center"],[1,"col-8"],[1,"mb-0"],[1,"card-body"],["autocomplete","off",1,"form-horizontal","form-material",2,"padding-left","20px",3,"formGroup","ngSubmit"],[1,"form-group","row","pt-2"],["for","userName",1,"col-md-2","fontweight"],[1,"col-md-4"],["type","hidden","id","credentialId","formControlName","credentialId"],["type","text","placeholder","Enter User Name","id","serverName","formControlName","userName",1,"input"],["class","invalid-feedback d-block",4,"ngIf"],["for","password",1,"col-md-2","fontweight"],["type","text","placeholder","Enter Password","id","password","formControlName","password",1,"input"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-success",2,"width","70px","margin-right","15px",3,"disabled"],["class","postloader",4,"ngIf"],["routerLink","/server/server-list",1,"btn","btn-info"],[1,"row","col-xl-5"],["class","card shadow",4,"ngIf"],[1,"invalid-feedback","d-block"],[4,"ngIf"],[1,"postloader"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"col"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],[1,"thead-light"],["scope","col"],[4,"ngFor","ngForOf"],["class","pagination",4,"ngIf"],[1,"text-info","mr-3",2,"margin-right","10px",3,"click"],[1,"fa","fa-edit"],[1,"fa","fa-eye"],[1,"pagination"],[3,"pageChange"]],template:function(e,t){1&e&&(d.Zb(0,"div",0),d.Vb(1,"span",1),d.Zb(2,"div",2),d.Zb(3,"div",3),d.Zb(4,"div",4),d.Zb(5,"h1",5),d.Gc(6),d.Yb(),d.Zb(7,"h2",6),d.Gc(8),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Zb(9,"div",7),d.Zb(10,"div",3),d.Zb(11,"div",8),d.Zb(12,"div",9),d.Zb(13,"div",10),d.Zb(14,"div",11),d.Zb(15,"div",12),d.Zb(16,"h3",13),d.Gc(17,"Server Credentials"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Zb(18,"div",14),d.Zb(19,"form",15),d.hc("ngSubmit",(function(e){return t.submit(t.form.value)})),d.Zb(20,"div",16),d.Zb(21,"label",17),d.Gc(22,"User Name"),d.Yb(),d.Zb(23,"div",18),d.Vb(24,"input",19),d.Vb(25,"input",20),d.Fc(26,ce,3,2,"div",21),d.Yb(),d.Yb(),d.Zb(27,"div",16),d.Zb(28,"label",22),d.Gc(29,"Password"),d.Yb(),d.Zb(30,"div",18),d.Vb(31,"input",23),d.Fc(32,le,2,1,"div",21),d.Yb(),d.Yb(),d.Zb(33,"div",24),d.Zb(34,"div",25),d.Zb(35,"button",26),d.Gc(36," Save "),d.Fc(37,de,1,0,"div",27),d.Yb(),d.Zb(38,"a",28),d.Gc(39,"Back"),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Zb(40,"div",29),d.Fc(41,ge,20,15,"div",30),d.Yb(),d.Yb(),d.Vb(42,"app-footer"),d.Yb()),2&e&&(d.Jb(6),d.Hc(null==t.server?null:t.server.CName),d.Jb(2),d.Hc(null==t.server?null:t.server.ServerName),d.Jb(11),d.qc("formGroup",t.form),d.Jb(7),d.qc("ngIf",t.form.controls.userName.invalid&&(t.isSubmitting||t.form.controls.userName.dirty||t.form.controls.userName.touched)),d.Jb(6),d.qc("ngIf",t.form.controls.password.invalid&&(t.isSubmitting||t.form.controls.password.dirty||t.form.controls.password.touched)),d.Jb(3),d.qc("disabled",t.isSubmitted),d.Jb(2),d.qc("ngIf",t.isLoader),d.Jb(4),d.qc("ngIf",t.credentials))},directives:[s.y,s.p,s.i,s.c,s.o,s.g,i.l,l.i,v.a,i.k,f.c],pipes:[f.b,p.a],styles:[".fontweight[_ngcontent-%COMP%]{font-weight:400;padding-top:7px}.input[_ngcontent-%COMP%]{border:2px solid grey;border-radius:5px;padding-left:5px;height:40px;width:100%}"]}),e})();var fe=r("nuWK");const pe=[{path:"",component:G,children:[{path:"server-list",component:U,canActivate:[fe.a],data:{roles:["Admin","DevOps"]}},{path:"server-register",component:re,canActivate:[fe.a],data:{roles:["Admin","DevOps"]}},{path:"server-credentials",component:ve,canActivate:[fe.a],data:{roles:["Admin","DevOps"]}},{path:"update",component:re,canActivate:[fe.a],data:{roles:["Admin","DevOps"]}},{path:"access-requests",component:L}]}];let Ye=(()=>{class e{}return e.\u0275mod=d.Sb({type:e}),e.\u0275inj=d.Rb({factory:function(t){return new(t||e)},imports:[[l.j.forChild(pe)],l.j]}),e})();r.d(t,"ServerModule",(function(){return Ze}));let Ze=(()=>{class e{}return e.\u0275mod=d.Sb({type:e}),e.\u0275inj=d.Rb({factory:function(t){return new(t||e)},providers:[m.a],imports:[[i.b,o.a,Ye,s.k,s.u,n.c,c.c,a.b,b.b]]}),e})()}}]);